<!doctype html>
<html>
<head>
<base href="http://sebastien.drouyer.com/" />
<title>Projects - Nasa Tournament Lab - Longeron Challenge: 17th place</title>
<meta name="description" content="International TopCoder marathon challenge (4056 registered, 459 competitors)">
<meta name="keywords" content="Contests">
<meta name="robots" content="index,follow">


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

            <link title="static/apps/noviusos_template_bootstrap/vendor/bootstrap/css/skin/Bootstrap.css" rel="stylesheet" type="text/css"
              href="static/apps/noviusos_template_bootstrap/vendor/bootstrap/css/skin/Bootstrap.css">
        <link rel="stylesheet"
          href="static/apps/noviusos_template_bootstrap/vendor/bootstrap/css/social-buttons-3.css">

    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css"
          data-local="static/apps/noviusos_template_bootstrap/vendor/css/jquery-ui.css"/>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"
          data-local="static/apps/noviusos_template_bootstrap/vendor/bootstrap/css/font-awesome.css">

    <!-- Fallback Jquery -->
    <script src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript">
        window.jQuery ||
        document.write('<script src="static/apps/noviusos_template_bootstrap/vendor/js/jquery.min.j">\x3C/script>');
    </script>

    <!-- Fallback Jquery UI-->
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script type="text/javascript">
        window.jQuery.ui ||
        document.write('<script src="static/apps/noviusos_template_bootstrap/vendor/js/jquery-ui.min.j">\x3C/script>');
    </script>

    <!-- Fallback Bootstrap.js-->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        $.fn.modal || document.write('<script src="static/apps/noviusos_template_bootstrap/vendor/' +
            'bootstrap/js/bootstrap.min.js">\x3C/script>');
    </script>

    <script src="static/apps/noviusos_template_bootstrap/vendor/bootstrap/js/less-1.7.0.min.js"></script>
    <script src="static/apps/noviusos_template_bootstrap/js/script.js"></script>
    <script src="static/plugins/google-code-prettify/run_prettify.js"></script>

    <style>
        @import 'static/website.css';    </style>

<meta name="google-site-verification" content="DWVEKgPu8x-IXuT1UKwTIHa0aAjSyf6Emm7zot0yMtc" />
<link rel="alternate" type="application/rss+xml" title="Nasa Tournament Lab - Longeron Challenge: 17th place: Comments list" href="http://sebastien.drouyer.com/projects/rss/comments/nasa-tournament-lab-longeron-challenge-17th-place.html">
<link rel="alternate" type="application/rss+xml" title="Posts list" href="http://sebastien.drouyer.com/projects/rss/posts.html">
<link rel="alternate" type="application/rss+xml" title="Comments list" href="http://sebastien.drouyer.com/projects/rss/comments.html">
<link href="static/apps/sdrdis_timeline/plugins/timeline-2.9.0/timeline.css" rel="stylesheet" type="text/css">
<link href="static/apps/noviusos_blognews/css/blognews.css" rel="stylesheet" type="text/css">
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script src="static/apps/sdrdis_timeline/plugins/timeline-2.9.0/timeline-min.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60509693-1', 'auto');
  ga('send', 'pageview');

</script>
</head>


<body id="principal"
      class="customisable title_page"
    >

<div id="content" class="container-fluid">
    <div class="head_content row header-fixed">
    <nav class="navbar navbar-inverse " role="navigation">
        <div class="navbar-header">
            <a class="navbar-brand" id="sitename"
               href="http://sebastien.drouyer.com/"
                ><span id="header-logo-small" class="image_small" style=" display : none"> <img src=""></span><span id="header-title-small" class="title_small" style="">Sébastien Drouyer</span></a>
            <button class="navbar-toggle collapsed right" data-target=".navbar-collapse" data-toggle="collapse"
                    type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="container collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right" id="list-menu">
    <li class="lvl0"><a href="http://sebastien.drouyer.com/projects.html">Projects</a></li><li class="lvl0"><a href="http://sebastien.drouyer.com/tutorials/tutorial-building-first-fuelphp-application.html">Tutorial: building your first FuelPHP application</a></li>    </ul>
            </div>

    </nav>
    <div id="header" class="nav-logo customisable title_header">
        <a href="#" style="display: inline-block;"><span id="header-logo" class="image " style="display : none ;" > <img src=""></span></a>

        <span class="titleonly">
            <a class="link-title" href="#" style="display: inline-block;"><span id="header-title" style="">Sébastien Drouyer</span><br>
            <span id="header-baseline" style=""> </span></a>
        </span>
    </div>
</div>





<div  class="row middle-header-fixed ">
         <div id="middle_content" class=" col-md-12 col-sm-9 col-xs-12" >
            <div id="block-grid" class=" customisable col-md-12 col-sm-12 col-xs-12 main_wysiwyg">
            <div id="grid_content_layout">
            <style>
    .div_layout {
        margin-bottom: 10px;
        text-align: justify;
    }

    .layout {
        padding: 0;
    }
</style>

	 <div class='div_layout col-md-1'
                 style='' data-val=0> </div>
	 <div class='div_layout col-md-10'
                 style='' data-val=3> <style type="text/css">


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-1 {
        background: #000000;
        color: white;
        border-top-color: #282828;
        border-left-color: #282828;
        border-bottom-color: #000000;
        border-right-color: #000000;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-8 {
        background: #b85cb8;
        color: black;
        border-top-color: #e084e0;
        border-left-color: #e084e0;
        border-bottom-color: #903490;
        border-right-color: #903490;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-12 {
        background: #3379b7;
        color: white;
        border-top-color: #5ba1df;
        border-left-color: #5ba1df;
        border-bottom-color: #0b518f;
        border-right-color: #0b518f;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-15 {
        background: #f0ad4e;
        color: black;
        border-top-color: #ffd576;
        border-left-color: #ffd576;
        border-bottom-color: #c88526;
        border-right-color: #c88526;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-5 {
        background: #d9544f;
        color: white;
        border-top-color: #ff7c77;
        border-left-color: #ff7c77;
        border-bottom-color: #b12c27;
        border-right-color: #b12c27;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-7 {
        background: #b85cb8;
        color: black;
        border-top-color: #e084e0;
        border-left-color: #e084e0;
        border-bottom-color: #903490;
        border-right-color: #903490;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-10 {
        background: #f0ad4e;
        color: black;
        border-top-color: #ffd576;
        border-left-color: #ffd576;
        border-bottom-color: #c88526;
        border-right-color: #c88526;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-4 {
        background: #5cb85c;
        color: white;
        border-top-color: #84e084;
        border-left-color: #84e084;
        border-bottom-color: #349034;
        border-right-color: #349034;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-9 {
        background: #f0ad4e;
        color: black;
        border-top-color: #ffd576;
        border-left-color: #ffd576;
        border-bottom-color: #c88526;
        border-right-color: #c88526;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-11 {
        background: #b85cb8;
        color: black;
        border-top-color: #e084e0;
        border-left-color: #e084e0;
        border-bottom-color: #903490;
        border-right-color: #903490;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-14 {
        background: #000000;
        color: white;
        border-top-color: #282828;
        border-left-color: #282828;
        border-bottom-color: #000000;
        border-right-color: #000000;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-6 {
        background: #000000;
        color: white;
        border-top-color: #282828;
        border-left-color: #282828;
        border-bottom-color: #000000;
        border-right-color: #000000;
    }


    #timeline_551348ab87ab2 .ui-state-default.timeline-cat-13 {
        background: #5bc0de;
        color: black;
        border-top-color: #83e8ff;
        border-left-color: #83e8ff;
        border-bottom-color: #3398b6;
        border-right-color: #3398b6;
    }
</style>
<div id="timeline_551348ab87ab2" class="sdrdis_timeline_graph"></div>

<script type="text/javascript">
    google.load("visualization", "1");

    // Set callback to run when API is loaded
    google.setOnLoadCallback(drawVisualization);

    // Called when the Visualization API is loaded.
    function drawVisualization() {
        var now = new Date();
        var minDate = new Date(2006, 0, 1);
        var maxDate = now;
        var startDate = null;
        var endDate = null;
        // Create and populate a data table.
        var data = new google.visualization.DataTable();
        data.addColumn('datetime', 'start');
        data.addColumn('datetime', 'end');
        data.addColumn('string', 'content');
        data.addColumn('string', 'className');
        data.addColumn('string', 'group'); // HERE

startDate = new Date(1358767296000);endDate = new Date(1360197504000);data.addRows([[new Date(1157061600000), new Date(1214776800000), "INSA Rouen", "timeline-cat-12", "Education"],
[new Date(1220220000000), new Date(1309384800000), "INSA Lyon (IT)", "timeline-cat-12", "Education"],
[new Date(1318197600000), new Date(1326150000000), "Stanford - coursera : Machine learning", "timeline-cat-13", "Education"],
[new Date(1329433200000), new Date(1334268000000), "Berkeley - coursera : SaaS", "timeline-cat-13", "Education"],
[new Date(1360450800000), new Date(1363530900000), "Stanford - coursera: Algorithms Part 1", "timeline-cat-13", "Education"],
[new Date(1245016800000), new Date(1249250400000), "Lumai prod - game developper", "timeline-cat-4", "Professional"],
[new Date(1275343200000), new Date(1285797600000), "Safecoms - Developper: Peppercan CRM", "timeline-cat-4", "Professional"],
[new Date(1291244400000), new Date(1388530440000), "Novius - R\u0026D engineer: Reso-nova, Novius OS and FuelPHP trainer", "timeline-cat-4", "Professional"],
[new Date(1201820400000), new Date(1213480800000), "INSA Rouen IT contest: 1st price", "timeline-cat-5", "Contests"],
[new Date(1263510000000), new Date(1273874400000), "Infotel Web Application contest: 1st price", "timeline-cat-5", "Contests"],
[new Date(1297292400000), new Date(1305410400000), "Infotel Mobile Application contest: 2nd price", "timeline-cat-5", "Contests"],
[new Date(1332712800000), new Date(1334354400000), "Nasa Tournament Lab - USPTO Algorithm chalenge: 6th place", "timeline-cat-5", "Contests"],
[new Date(1351724400000), new Date(1354316400000), "Github game off: 1st place", "timeline-cat-5", "Contests"],
[new Date(1226703600000), new Date(1234220400000), "Spaceshadows", "timeline-cat-7", "Side projects"],
[new Date(1236207600000), new Date(1255557600000), "Spaceshadows - online", "timeline-cat-7", "Side projects"],
[new Date(1336428000000), new Date(1336471200000), "jquery.serialize-hash", "timeline-cat-8", "Side projects"],
[new Date(1339711200000), new Date(1341007200000), "jquery.earth-3d.js", "timeline-cat-8", "Side projects"],
[new Date(1323903600000), new Date(1324076340000), "Agenda", "timeline-cat-8", "Side projects"],
[new Date(1356303600000), new Date(1356476400000), "haml_to_star", "timeline-cat-8", "Side projects"],
[new Date(1356476400000), new Date(1356562800000), "haml_to_js", "timeline-cat-8", "Side projects"],
[new Date(1357254000000), new Date(1357340340000), "guard-templates-jshaml", "timeline-cat-8", "Side projects"],
[new Date(1357772400000), new Date(1357815600000), "sdrdis_templates_midnight", "timeline-cat-8", "Side projects"],
[new Date(1357945200000), new Date(1358031600000), "sdrdis_timeline", "timeline-cat-8", "Side projects"],
[new Date(1308931200000), new Date(1309104000000), "Game Dev Party 1", "timeline-cat-9", "Events, conferences and publications"],
[new Date(1332522000000), new Date(1332691200000), "Game Dev Party 2", "timeline-cat-9", "Events, conferences and publications"],
[new Date(1353690000000), new Date(1353862800000), "Game Dev Party 3", "timeline-cat-9", "Events, conferences and publications"],
[new Date(1354285800000), new Date(1354329000000), "PHP Tour Nantes: FuelPHP - A framework, yes \u2013 Automagic, no!", "timeline-cat-10", "Events, conferences and publications"],
[new Date(1341928800000), new Date(1341972000000), "RMLL: FuelPHP - A framework, yes \u2013 Automagic, no!", "timeline-cat-10", "Events, conferences and publications"],
[new Date(1350684000000), new Date(1351375200000), "jugglingdb", "timeline-cat-11", "Side projects"],
[new Date(1357167600000), new Date(1357254000000), "guard-templates", "timeline-cat-11", "Side projects"],
[new Date(1358287200000), new Date(1358619900000), "sdrdis_book", "timeline-cat-8", "Side projects"],
[new Date(1358794800000), new Date(1360170000000), "Nasa Tournament Lab - Longeron Challenge: 17th place", "timeline-cat-5", "Contests"],
[new Date(1360976580000), new Date(1363098960000), "The University Of Edinburgh - coursera: Artificial Intelligence Planning", "timeline-cat-13", "Education"],
[new Date(1364822520000), new Date(1367215200000), "Nasa Tournament Lab - Robonaut Challenge: 2nd and 1st place", "timeline-cat-5", "Contests"],
[new Date(1367674800000), new Date(1371512820000), "University of Washington - coursera: Computational Neuroscience", "timeline-cat-13", "Education"],
[new Date(1412114400000), maxDate, "IFP, Mines Paristech : Computer Vision PhD thesis", "timeline-cat-4", "Professional"],
[new Date(1412114400000), maxDate, "IFP, Mines Paristech : Computer Vision PhD thesis", "timeline-cat-12", "Education"],
[new Date(1398895200000), new Date(1423954800000), "Book : FuelPHP Application Development Blueprints", "timeline-cat-15", "Events, conferences and publications"],
[new Date(1370037600000), new Date(1380492000000), "Intel Perceptual Computing Challenge 2013 - Pioneer award and checkpoint winner", "timeline-cat-5", "Contests"],
[new Date(1409522400000), new Date(1423782000000), "Intel RealSense App Challenge 2014 - Ambassador finalist, judging in progress", "timeline-cat-5", "Contests"]]);
var categories = ["Education","Contests","Professional","Events, conferences and publications","Side projects"]; 


        // specify options
        var options = {
            "width":  "100%",
            "style": "box",
            eventMargin: 0,
            eventMarginAxis: 0,
            "min": minDate,
            "max": maxDate,
            "intervalMin": 1000 * 60 * 60 * 24 * 3, // 30 days
            "start": startDate,
            "end": endDate,
            stackEvents: true,
            groupsOrder: function(a, b) {
                return categories.indexOf(a.content) < categories.indexOf(b.content);
            },
            groupMinHeight: 31
            //"intervalMax": 1000 * 60 * 60 * 24 * 365 * 1.5
        };

        // Instantiate our timeline object.
        var timeline = new links.Timeline(document.getElementById("timeline_551348ab87ab2"));

        // Draw our timeline with the created data and options
        timeline.draw(data, options);
    }

</script>


<div class="sdrdis_timeline noviusos_enhancer blognews_post blognews_post_show">
    <img src="http://sebastien.drouyer.com/projects/stats/42.html" title="" alt="" width="0" height="0" />


        <h1 class="blognews_title"><a href="http://sebastien.drouyer.com/projects/nasa-tournament-lab-longeron-challenge-17th-place.html">Nasa Tournament Lab - Longeron Challenge: 17th place</a></h1>    <div class="blognews_content">
    <h2>Introduction</h2>
<p>On 16 January 2013, I received an email from <a href="http://www.topcoder.com" target="_blank">TopCoder</a> announcing a&nbsp;challenge by NASA to optimize the energy production of the <a href="http://en.wikipedia.org/wiki/International_Space_Station" target="_blank">International Space Station</a>.</p>
<p>Here is the small teaser NASA published on youtube:</p>
<p style="text-align: center;"><iframe src="http://www.youtube.com/embed/qiFDrwnUgUc" frameborder="0" height="315" width="560"></iframe></p>
<p><span>I will try to summarize the problem, but i</span>f you want to learn more on the subject, I suggest you to take a look at the <a href="http://community.topcoder.com/longcontest/?module=ViewProblemStatement&amp;rd=15520&amp;pm=12122" target="_blank">Problem Statement</a>.</p>
<p>Being a big fan of space related themes and as I was&nbsp;<span>familiarized with TopCoder marathon challenge, I decided to dive in.</span></p>
<h2><span>Problem summary</span></h2>
<p><span>The goal of the contest was to maximize the solar energy production of the International Space Station for a total period (92 minute) in difficult orbital situations.</span></p>
<p><span>Here is a small labelled drawing I completed:</span></p>
<p style="text-align: center;"><img class="" title="nasa-iss-longeron" src="http://sebastien.drouyer.com/media/nasa-iss-longeron.png" alt="nasa-iss-longeron" height="329" width="440"></p>
<p><span>For achieving this goal, we could affect 21 parameters:</span></p>
<ul>
<li>The Yaw of the ISS, which was defined as its orientation. The orientation could only be set at the begining.</li>
<li>For each minute (0 - 91), the rotation and velocity of the two&nbsp;<span>Solar Alpha Rotary Joints (SARJ). These joints were moving 4&nbsp;Solar Array Wings (SAW) at once.</span></li>
<li><span>For each minute (0 - 91), the rotation and velocity of the 8&nbsp;Beta Gimbal Assemblies (BGA). These joints were only moving 1 Solar Array Wings (SAW).</span></li>
</ul>
<p><span>We had some constaints though:</span></p>
<ul>
<li>As presented on the video, there had to be an even number of illuminated longeron for each SAW most of the time ; there was some tolerance though (it could be illuminated on odd longeron for 21 consecutives minutes without causing any structural damage).</li>
<li>There was constraints on SARJ and BGA speed and acceleration.</li>
<li>Score was reduced if total amount of BGA rotation in one complete period exceeded 80 degrees.</li>
<li>Score was reduced if SAW didn't meet a minimal energy production specific amount.</li>
</ul>
<p>Problem was therefore very complex, with various parameters to take into account. Hopefully, the contest provided us a previsualizer which has been of great help for me:</p>
<p style="text-align: center;"><img class="" title="iss-vizualizer" src="http://sebastien.drouyer.com/cache/media/iss-vizualizer/s%2C650%2C322-1e4959.png" alt="iss-vizualizer" height="322" width="650"></p>
<p>Last but not least, the solutions would be tested on 6 specific and announced orbital situations, which allowed precalculation. This way you could predetermine all angles / velocities before and submit a solution containing these values and a loop iterating on it. Most competitors, as myself, adopted this solution.</p>
<h2>Problem analysis</h2>
<p>This was an energy optimization problem, where time had a very importance place : at every minute, the sun position in relation to the ISS was a little bit different than the previous minute. It was important to adjust the all angles so that:</p>
<ul>
<li>Angle between sun rays and solar pannels had to be as near as possible to 90 degrees.</li>
<li>If a panel was shadowed on more than 20% of its area, it didn't produce any energy. We had therefore to minimize shadow, and it could affect BGA angles (one SAW always shade the one just behind it), and it could affect SARJ angles (crossing angles could make one side shade the other).</li>
<li>It respected maximum velocities and acceleration.</li>
</ul>
<p>I decided that problem was complicated enough for starters, and I would better comprehend others constraints (longerons, maximum rotation of BGA...) once I had resolved this problem first.</p>
<h3>Reducing the problem to SARJ angles</h3>
<p>Ok, there was a lot of back and forth on this matter, I made adjustements when I implemented and tested my solution, but for clarity reason I will sumarize everything here.</p>
<p>So first I noticed there was a lot of parameters. Even if I moved aside Yaw angle and velocities (which could be deduced later from angles), I had still 10 angles to determine every minute. All those angles could be between 0 and 360 degrees, so it was impossible de test all values.</p>
<p>As I noticed before, angle between sun rays and solar pannels had to be as near as possible to 90 degrees. This was a start: if I didn't take into account pannel shadows and always set this angle to 90 degrees, I didn't have to worry about BGA angle and had to manage only the two SARJ angles, which was much more easy.</p>
<p>For the simplest orbital positions (for those who have read the problem statement, I am talking about beta angle -71 and 71), this simple supposition worked.</p>
<p>I noticed though that SAWs always shade one pane of the SAW behind it. No matter how you set the angle, you could never get a better solution than this. I think this is simply not possible, as none of the other participants succeeded to.</p>
<p>But my first supposition was not sufficient for other orbital positions.</p>
<p style="text-align: center;"><img class="" title="iss-simple" src="http://sebastien.drouyer.com/cache/media/iss-simple/s%2C650%2C322-b57a18.png" alt="iss-simple" height="322" width="650"><br>ISS on simplest orbital position with first solution: no shadow</p>
<p style="text-align: center;"><img class="" title="iss-complicated" src="http://sebastien.drouyer.com/cache/media/iss-complicated/s%2C650%2C320-dc0002.png" alt="iss-complicated" height="320" width="650"><br><span style="line-height: 1.4em;">ISS on more complicated orbital position with first solution: shadow</span></p>
<p>With this image we clearly see that we need to change the front SAW angles. I first tried to solve this problem with geometry. This is a line-circle intersection problem ; the circle represented by all position front SAW can have, and the line is the sun ray intersecting the back SAW panel bottom. But when testing on the visualizer I noticed there was some small difference I didn't succeed to explain. So instead I solved this matter with a linear regression.</p>
<p>This second solution was sufficient enough for most orbital position, except for two&nbsp;<span>(for those who have read the problem statement, I am talking about beta angle -73 and 73). For those solutions, I noticed total amount of BGA angles rotation exceeded a lot the limit of 80 degrees. After some testing, I determined two solution to this problem:</span></p>
<ul>
<li><span style="line-height: 1.4em;">limit SARJ angles variation (especialy going back and forth)</span></li>
<li><span style="line-height: 1.4em;">apply a lower bound for BGA angles in order to limit there variation. If the lower bound was near enough 90 degrees, there wasn't so much loss, but it was preventing most variation (this can be explained with line-circle problem).</span></li>
</ul>
<h3><span style="line-height: 1.4em;">SARJ angles strategy</span></h3>
<h4><strong><span style="line-height: 1.4em;">Automatic path calculation ?</span></strong></h4>
<p><span style="font-weight: normal; line-height: 1.4em;">Once I reduced the problem to the management of two SARJ angles, the problem was less complicated. The idea was to be able to plan the best path those rotation could take on the 92 minutes. But I had three problems :</span></p>
<ul>
<li>I had to know the power generated on a given state (orbital position + angles the program chosed). The vizualizer provided a way to get this value on one state, but this took time (on my computer, one test case took about 80ms to be calculated)</li>
<li>Angles were real numbers, so even with only two angles to determine there was an infinite number of possible positions.</li>
<li>My knowledge on this domain was very limited</li>
</ul>
<p>I know now I made a mistake, but back then I decided that, since there was going to be a lot of test cases, I had to boost the calculation time, and the only way to do that was a linear regression on SARJ angles and BGA angles. I was wrong, because:</p>
<ul>
<li><span style="line-height: 1.4em;">Using BGA angles complexified a lot the problem and, as I wrote on previous part, it was possible to determine optimal BGA angles by calculation. But what you read was my final solution and I didn't have all the clues back then.</span></li>
<li><span style="line-height: 1.4em;">Even without the first mistake, I suspect the results would not be conclusive since there would still be a lot of angles, on a lot of different situation.</span></li>
</ul>
<p><span style="line-height: 1.4em;">So when I did the linear regression on 10 million random "possible" states, results were very disappointing : there was a mean variation of 20% between the real value and the value calculated by linear regression.</span></p>
<p><span style="line-height: 1.4em;">I was stuck, and I didn't have a lot of time remaining. Fortunatly, I came up with a new solution, which I agree could seem a little bit eccentric, but at the end turned out pretty well.</span></p>
<h4><strong><span style="line-height: 1.4em;">Manually determine the path with an human interface</span></strong></h4>
<p><span style="line-height: 1.4em;">As I wrote before, our submission would be tested on only 6 differents and announced orbital positions. 6 is not a big number, and since those positions were already announced, it appeared it was clearly possible to determine them manually with a human interface.</span></p>
<p><span style="line-height: 1.4em;">By manually setting them, I could understand what strategy I could adopt, and if I had enough time, I could come up with an algorithm based on my observations. In fact, I didn't have the time to implement the algorithm for processing the SARJ angles strategy, but it helped me a lot for BGA angles.</span></p>
<p><span style="line-height: 1.4em;">This supposed that the time needed for one path, that is setting 2 * 92 = 184 angles, would not take too much time to manually configure. This was the challenge of the interface.</span></p>
<h2><span style="line-height: 1.4em;">Interface implementation</span></h2>
<p><span style="line-height: 1.4em;">The idea was to make an easy interface in order to manually configure path very quickly. I gradually added new features as I needed them, but this is what it looked like at the end:</span></p>
<p style="text-align: center;"><span style="line-height: 1.4em;"><img class="" title="interface-and-iss" src="http://sebastien.drouyer.com/cache/media/interface-and-iss/s%2C650%2C298-1c9546.png" alt="interface-and-iss" height="298" width="650"><br>I used my interface near the vizualizer in order to get an idea of the current state</span></p>
<p style="text-align: center;"><span style="line-height: 1.4em;"><img class="" title="interface-only" src="http://sebastien.drouyer.com/media/interface-only.png" alt="interface-only" height="624" width="577"><br>Here, a larger snapshot on the interface</span></p>
<p style="text-align: left;">That's basically with this interface that I solved the problem. The vizualizer supplied me a preview of the current state, and that was very important in order to understand which area were shadowed and optimize the score this way.</p>
<p style="text-align: left;">On my interface, first, you can see a table on the top.</p>
<p style="text-align: left;">This table has 12 lines: first for header, then one for each SARJ and linked SAWs, and the last line is the total (sum of powers...).</p>
<p style="text-align: left;">This table has 8 columns:</p>
<ul>
<li>Angle: by clicking on a line, I selected an angle (I could choose BGA as SARJ angles) and then I was able to modify its angle with the lower interface.</li>
<li>Power: power generated by the item on current minute.</li>
<li>Var. 1: power variation since I selected last angle.</li>
<li>Var. 2: power variation since I changed minute.</li>
<li>Total pow.: total power produced on the whole orbit.</li>
<li>Rot.: total item rotation (in order to see If I didn't exceed the 80 degrees limitation for BGAs)</li>
<li>NB /!\: total longeron bad score for the whole orbit</li>
<li>/!\: are the longeron dangerous on this orbit</li>
</ul>
<p>The interface has then 2 lower rectangle.</p>
<p>The first rectangle allows to change the selected angle.</p>
<ul>
<li><span style="line-height: 1.4em;">The number input allowed me to change angle difference with the "obvious optimal angle", that is the angle which would produce the most power if station and station side weren't shadowing each other. On optimal cases this difference was near from 0 that allowed me to reduce angle search.</span></li>
<li><span style="line-height: 1.4em;">The two second line buttons allowed me to search a near local optimum for the angle. It proved to be very useful, because I quickly noticed that SARJs were often stuck for few minutes on a given position since if it moved forward it was shadowed by a space station component.</span></li>
<li><span style="line-height: 1.4em;">The two third line buttons allowed me to set the angle to a minimum or maximum considering velocity and acceleration constraint. These two turned out not very useful.</span></li>
<li><span style="line-height: 1.4em;">The objective of the two last buttons allowed me to the two optimal angles when one was shading the other. I didn't use it very often.</span></li>
</ul>
<p><span style="line-height: 1.4em;">The second rectangle allowed to control the state:</span></p>
<ul>
<li>On first line you could change current minute.</li>
<li>On second line you could change the Yaw and notice if there was any improvement.</li>
<li>Third line: current beta.</li>
<li>Fourth line: total score (with minimum energy production and angle variation malus)</li>
<li>Fifth line button allowed me to refresh every minute when I changed the Yaw.</li>
<li>And the 6th line buttons allowed me to copy last or next minute state, because I noticed that from one minute to the next angle variation wasn't very important.</li>
</ul>
<h2>Results</h2>
<p>Time was very short and I finished my sixth case one hour before the end. So I submitted my program with those values manually configured.</p>
<p>Few days later, score came back, and it turned out pretty well: my solution appeared on the 17th place on over 4000 subscribers and more than 400 submitted solution. Here are the <a href="http://community.topcoder.com/longcontest/stats/?module=ViewOverview&amp;rd=15520" target="_blank">standings</a>&nbsp;and the <a href="http://apps.topcoder.com/forums/?module=ThreadList&amp;forumID=566146&amp;sortField=9&amp;sortOrder=0&amp;start=0" target="_blank">forums</a>&nbsp;where a lot of interesting ideas were discussed.</p>
<p>Here is a small preview of my solution for the test case beta = 71° (running on two orbits):</p>
<p style="text-align: center;"><iframe src="http://www.youtube.com/embed/xS32AWAW_CI" frameborder="0" height="315" width="560"></iframe></p>
<p style="text-align: center;">&nbsp;</p></div>

        <div class="blognews_tags">
        </div>
        <div class="blognews_comments" id="comments">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sdrdis'; // required: replace example with your forum shortname
        var disqus_identifier = 'Sdrdis/Timeline/Model_Post/42';
        /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
    </div></div>
	 <div class='div_layout col-md-1'
                 style='' data-val=0> </div>            </div>
        </div>
        <br>
     </div>
    </div>
<div id="footer" class="row footer customisable middle-header-fixed">
    <div class="footer_menu">
<ul class="nav nav-pills nav-justified" style="text-align: left">    </div>

    <div class="footer_text"><p>© Sébastien Drouyer. Except specified otherwise, all this website content is under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 3.0</a>.</p>    </div>
</div>
</div>
</body>
</html>