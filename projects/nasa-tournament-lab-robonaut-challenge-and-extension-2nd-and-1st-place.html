<!doctype html>
<html>
<head>
<base href="http://sebastien.drouyer.com/" />
<meta name="robots" content="index,follow">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Projects - Nasa Tournament Lab - Robonaut Challenge: 2nd and 1st place</title>
    <link rel="stylesheet" href="static/apps/sdrdis_templates_midnight/stylesheets/styles.css">
    <link rel="stylesheet" href="static/apps/sdrdis_templates_midnight/stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="static/apps/sdrdis_templates_midnight/javascripts/respond.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="static/apps/sdrdis_templates_midnight/stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<link rel="alternate" type="application/rss+xml" title="Nasa Tournament Lab - Robonaut Challenge: 2nd and 1st place: Comments list" href="projects/rss/comments/nasa-tournament-lab-robonaut-challenge-and-extension-2nd-and-1st-place.html">
<link rel="alternate" type="application/rss+xml" title="Posts list" href="projects/rss/posts.html">
<link rel="alternate" type="application/rss+xml" title="Comments list" href="projects/rss/comments.html">
<link href="static/apps/custom_timeline/css/custom.css" rel="stylesheet" type="text/css">
<link href="static/apps/sdrdis_timeline/css/timeline.css" rel="stylesheet" type="text/css">
<link href="static/apps/sdrdis_timeline/plugins/timeline-2.3.2/timeline.css" rel="stylesheet" type="text/css">
<link href="static/apps/noviusos_blognews/css/blognews.css" rel="stylesheet" type="text/css">
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script src="static/apps/sdrdis_timeline/plugins/timeline-2.3.2/timeline-min.js" type="text/javascript"></script>
</head>
<body>
<div id="header">
                <nav>
            <div class="primary_menu">
                <li class="lvl0"><a href="http://sebastien.drouyer.com/">About me</a></li>
            </div>
            <div class="secondary_menu">
                            <li class="lvl0"><a href="http://sebastien.drouyer.com/projects.html"  class="active">Projects</a>
                                </li>
                                <li class="lvl0"><a href="http://sebastien.drouyer.com/contact-me.html" >Contact me</a>
                                </li>
                            </div>
        </nav>
        </div><!-- end header -->

<div class="wrapper">

    <section>
        <h1>Projects - Nasa Tournament Lab - Robonaut Challenge: 2nd and 1st place</h1>

        <style type="text/css">
    div.timeline-cat-1 {
        background-color: #00bb26;
        color: white;
        border-top-color: #28e34e;
        border-left-color: #28e34e;
        border-bottom-color: #009300;
        border-right-color: #009300;
    }
    div.timeline-cat-5 {
        background-color: #ab0000;
        color: white;
        border-top-color: #d32828;
        border-left-color: #d32828;
        border-bottom-color: #830000;
        border-right-color: #830000;
    }
    div.timeline-cat-6 {
        background-color: #000000;
        color: white;
        border-top-color: #282828;
        border-left-color: #282828;
        border-bottom-color: #000000;
        border-right-color: #000000;
    }
    div.timeline-cat-4 {
        background-color: #000993;
        color: white;
        border-top-color: #2831bb;
        border-left-color: #2831bb;
        border-bottom-color: #00006b;
        border-right-color: #00006b;
    }
    div.timeline-cat-7 {
        background-color: #009b9b;
        color: white;
        border-top-color: #28c3c3;
        border-left-color: #28c3c3;
        border-bottom-color: #007373;
        border-right-color: #007373;
    }
    div.timeline-cat-8 {
        background-color: #890084;
        color: white;
        border-top-color: #b128ac;
        border-left-color: #b128ac;
        border-bottom-color: #61005c;
        border-right-color: #61005c;
    }
    div.timeline-cat-9 {
        background-color: #555555;
        color: white;
        border-top-color: #7d7d7d;
        border-left-color: #7d7d7d;
        border-bottom-color: #2d2d2d;
        border-right-color: #2d2d2d;
    }
    div.timeline-cat-10 {
        background-color: #0a439d;
        color: white;
        border-top-color: #326bc5;
        border-left-color: #326bc5;
        border-bottom-color: #001b75;
        border-right-color: #001b75;
    }
    div.timeline-cat-11 {
        background-color: #b08000;
        color: white;
        border-top-color: #d8a828;
        border-left-color: #d8a828;
        border-bottom-color: #885800;
        border-right-color: #885800;
    }
    div.timeline-cat-12 {
        background-color: #00ad23;
        color: white;
        border-top-color: #28d54b;
        border-left-color: #28d54b;
        border-bottom-color: #008500;
        border-right-color: #008500;
    }
    div.timeline-cat-13 {
        background-color: #00c728;
        color: white;
        border-top-color: #28ef50;
        border-left-color: #28ef50;
        border-bottom-color: #009f00;
        border-right-color: #009f00;
    }
</style>
<div id="mytimeline"></div>

<script type="text/javascript">
    google.load("visualization", "1");

    // Set callback to run when API is loaded
    google.setOnLoadCallback(drawVisualization);

    // Called when the Visualization API is loaded.
    function drawVisualization() {
        var now = new Date();
        var minDate = new Date(2006, 0, 1);
        var maxDate = now;
        var startDate = null;
        var endDate = null;
        // Create and populate a data table.
        var data = new google.visualization.DataTable();
        data.addColumn('datetime', 'start');
        data.addColumn('datetime', 'end');
        data.addColumn('string', 'content');
        data.addColumn('string', 'className');
        data.addColumn('string', 'url');

    startDate = new Date(1364774666400);endDate = new Date(1367263053600);

        data.addRows([
[new Date(1318197600000), new Date(1326150000000), "Stanford - coursera : Machine learning", "timeline-cat-13", "http:\/\/sebastien.drouyer.com\/projects\/stanford-machine-learning.html"],
[new Date(1220220000000), new Date(1309384800000), "INSA Lyon (IT)", "timeline-cat-12", "http:\/\/sebastien.drouyer.com\/projects\/insa-lyon-masters-degree-in-engineering-specialised-in-it.html"],
[new Date(1157061600000), new Date(1214776800000), "INSA Rouen", "timeline-cat-12", "http:\/\/sebastien.drouyer.com\/projects\/insa-rouen.html"],
[new Date(1329433200000), new Date(1334268000000), "Berkeley - coursera : SaaS", "timeline-cat-13", "http:\/\/sebastien.drouyer.com\/projects\/berkeley-coursera-saas.html"],
[new Date(1360450800000), new Date(1363530900000), "Stanford - coursera: Algorithms Part 1", "timeline-cat-13", "http:\/\/sebastien.drouyer.com\/projects\/stanford-coursera-algorithms-part-1.html"],
[new Date(1245016800000), new Date(1249250400000), "Lumai prod - game developper", "timeline-cat-4", "http:\/\/sebastien.drouyer.com\/projects\/game-developper-lumai-prod.html"],
[new Date(1275343200000), new Date(1285797600000), "Safecoms - Developper: Peppercan CRM", "timeline-cat-4", "http:\/\/sebastien.drouyer.com\/projects\/safecoms-peppercan-crm.html"],
[new Date(1291244400000), new Date(1324767240000), "Novius - R&D engineer: Reso-Nova", "timeline-cat-4", "http:\/\/sebastien.drouyer.com\/projects\/novius-reso-nova-and-novius-os.html"],
[new Date(1201820400000), new Date(1213480800000), "INSA Rouen IT contest: 1st price", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/insa-rouen-it-contest.html"],
[new Date(1263510000000), new Date(1273874400000), "Infotel Web Application contest: 1st price", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/infotel-1st-price-in-web-application-contest.html"],
[new Date(1297292400000), new Date(1305410400000), "Infotel Mobile Application contest: 2nd price", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/infotel-2nd-price-in-mobile-application-contest.html"],
[new Date(1226703600000), new Date(1234220400000), "Spaceshadows", "timeline-cat-7", "http:\/\/sebastien.drouyer.com\/projects\/spaceshadows.html"],
[new Date(1332712800000), new Date(1334354400000), "Nasa Tournament Lab - USPTO Algorithm chalenge: 6th place", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/nasa-tournament-lab-6th-place-in-uspto-algorithm-chalenge.html"],
[new Date(1351724400000), new Date(1354316400000), "Github game off: 1st place", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/github-game-off-1st-place.html"],
[new Date(1236207600000), new Date(1255557600000), "Spaceshadows - online", "timeline-cat-7", "http:\/\/sebastien.drouyer.com\/projects\/spaceshadows-online.html"],
[new Date(1289775600000), new Date(1350252000000), "Unlimited Galaxy", "timeline-cat-7", "http:\/\/sebastien.drouyer.com\/projects\/unlimited-galaxy.html"],
[new Date(1336428000000), new Date(1336471200000), "jquery.serialize-hash", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/jquery.serialize-hash.html"],
[new Date(1339711200000), new Date(1341007200000), "jquery.earth-3d.js", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/jquery.earth-3d.js.html"],
[new Date(1323903600000), new Date(1324076340000), "Agenda", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/agenda.html"],
[new Date(1356303600000), new Date(1356476400000), "haml_to_star", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/haml_to_star.html"],
[new Date(1356390000000), new Date(1356476400000), "haml_to_js", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/html_to_js.html"],
[new Date(1357254000000), new Date(1357340340000), "guard-templates-jshaml", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/guard-templates-jshaml.html"],
[new Date(1357772400000), new Date(1357815600000), "sdrdis_templates_midnight", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/sdrdis_templates_midnight.html"],
[new Date(1358031600000), new Date(1358074800000), "sdrdis_color", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/sdrdis_color.html"],
[new Date(1357945200000), new Date(1357988400000), "sdrdis_datetime", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/sdrdis_datetime.html"],
[new Date(1357945200000), new Date(1358031600000), "sdrdis_timeline", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/sdrdis_timeline.html"],
[new Date(1367674800000), new Date(1371512820000), "University of Washington - coursera: Computational Neuroscience", "timeline-cat-13", "http:\/\/sebastien.drouyer.com\/projects\/university-of-washington-coursera-computational-neuroscience.html"],
[new Date(1308931200000), new Date(1309104000000), "Game Dev Party 1", "timeline-cat-9", "http:\/\/sebastien.drouyer.com\/projects\/game-dev-party-1.html"],
[new Date(1332522000000), new Date(1332691200000), "Game Dev Party 2", "timeline-cat-9", "http:\/\/sebastien.drouyer.com\/projects\/game-dev-party-2.html"],
[new Date(1353690000000), new Date(1353862800000), "Game Dev Party 3", "timeline-cat-9", "http:\/\/sebastien.drouyer.com\/projects\/game-dev-party-3.html"],
[new Date(1354285800000), new Date(1354329000000), "PHP Tour Nantes: FuelPHP - A framework, yes \u2013 Automagic, no!", "timeline-cat-10", "http:\/\/sebastien.drouyer.com\/projects\/nantes-fuelphp-a-framework-yes-automagic-no.html"],
[new Date(1341928800000), new Date(1341972000000), "RMLL: FuelPHP - A framework, yes \u2013 Automagic, no!", "timeline-cat-10", "http:\/\/sebastien.drouyer.com\/projects\/rmll-fuelphp-a-framework-yes-automagic-no.html"],
[new Date(1350684000000), new Date(1351375200000), "jugglingdb", "timeline-cat-11", "http:\/\/sebastien.drouyer.com\/projects\/jugglingdb.html"],
[new Date(1357254000000), new Date(1357297200000), "guard-templates", "timeline-cat-11", "http:\/\/sebastien.drouyer.com\/projects\/guard-templates.html"],
[new Date(1358287200000), new Date(1358619900000), "sdrdis_book", "timeline-cat-8", "http:\/\/sebastien.drouyer.com\/projects\/sdrdis_book.html"],
[new Date(1358794800000), new Date(1360170000000), "Nasa Tournament Lab - Longeron Challenge: 17th place", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/nasa-tournament-lab-longeron-challenge-17th-place.html"],
[new Date(1360976580000), new Date(1363098960000), "The University Of Edinburgh - coursera: Artificial Intelligence Planning", "timeline-cat-13", "http:\/\/sebastien.drouyer.com\/projects\/the-university-of-edinburgh-coursera-artificial-intelligence-planning.html"],
[new Date(1364822520000), new Date(1367215200000), "Nasa Tournament Lab - Robonaut Challenge: 2nd and 1st place", "timeline-cat-5", "http:\/\/sebastien.drouyer.com\/projects\/nasa-tournament-lab-robonaut-challenge-and-extension-2nd-and-1st-place.html"],
[new Date(1325458560000), maxDate, "Novius - R&D engineer: Novius OS", "timeline-cat-4", "http:\/\/sebastien.drouyer.com\/projects\/novius-novius-os.html"],
[new Date(1349042640000), maxDate, "Novius: FuelPHP trainer", "timeline-cat-4", "http:\/\/sebastien.drouyer.com\/projects\/novius-fuelphp-trainer.html"]        ]);

        // specify options
        var options = {
            "width":  "100%",
            "height": "300px",
            "style": "box",
            "min": minDate,
            "max": maxDate,
            "intervalMin": 1000 * 60 * 60 * 24 * 3, // 30 days
            "start": startDate,
            "end": endDate
            //"intervalMax": 1000 * 60 * 60 * 24 * 365 * 1.5
        };

        // Instantiate our timeline object.
        var timeline = new links.Timeline(document.getElementById('mytimeline'));

        function getSelectedRow() {
            var row = undefined;
            var sel = timeline.getSelection();
            if (sel.length) {
                if (sel[0].row != undefined) {
                    row = sel[0].row;
                }
            }
            return row;
        }

        google.visualization.events.addListener(timeline, 'select', function(event) {
            var row = getSelectedRow();
            document.location.href = data.getValue(row, 4);
        });

        // Draw our timeline with the created data and options
        timeline.draw(data, options);
    }

</script>


<div class="blognews_post blognews_post_show">
        <div class="blognews_content">
    <h2>Introduction</h2>
<p>On April 2 2013, I received an email from TopCoder announcing a challenge by NASA to implement an image recognition algorithm for their robot Robonaut 2.</p>
<p>Here is the small teaser NASA published on youtube:</p>
<p style="text-align: center;"><iframe src="http://www.youtube.com/embed/uXZlyyJohAI" frameborder="0" width="640" height="360"></iframe></p>
<p>The Robonaut Challenge is part of the ISS Challenge Series organised by NASA in order to solve some issues related to the International Space Station. This challenge series is separated into three main challenges:</p>
<ul>
<li><span style="line-height: 1.4em;">The Longeron challenge, which goal was to optimize the power production of the ISS when placed on difficult orbital positions.</span></li>
<li><span style="line-height: 1.4em;">The ISS-FIT challenge, which purpose was to create an iPad Application for monitoring the astronauts food intake.</span></li>
<li><span style="line-height: 1.4em;">And the Robonaut Challenge, which can be separated into two smaller challenges :</span></li>
<ul>
<li><span style="line-height: 1.4em;">The first one is to teach Robonaut 2 (an humanoïd robot created by Nasa) how to recognize state and location of several buttons and switches on a taskboard.</span></li>
<li><span style="line-height: 1.4em;">The second one is the use this vision algorithm to operate on this taskboard.</span></li>
</ul>
</ul>
<p>I will try to summarize the problem, but if you want to learn more on the subject, I suggest you to take a look at the <a href="http://community.topcoder.com/longcontest/?module=ViewProblemStatement&amp;rd=15611&amp;pm=12472" target="_blank">Problem Statement</a>.</p>
<p>Being a big fan of space related themes and as I was familiarized with TopCoder marathon challenge, I decided to dive in.</p>
<h2>Problem overview</h2>
<p>Robonaut 2 is the first humanoid robot in space and it was sent to the space station with the intention of taking over tasks too dangerous or too mundane for astronauts. But Robonaut 2 needs to learn how to interact with the types of input devices the astronauts use on the space station. And it has to recognize the current state of the taskboards before it can operate on them ; which buttons are already pushed, which leds are active, is the power switch flipped, and so on.</p>
<p>This is the purpose of the challenge. In order to do so, a several pictures of a unique taskboard is provided. These pictures are separated in 5 subsets:</p>
<ul>
<li><span style="line-height: 1.4em;">ISS: real pictures of the taskboard taken on the International Space Station.</span></li>
<li><span style="line-height: 1.4em;">Lab, Lab2 and Lab3: real pictures of the taskboard taken on earth on different positions. Lab pictures are more are similar to the ISS pictures than Lab3.</span></li>
<li><span style="line-height: 1.4em;">Sim: images generated by a 3d simulation of the taskboard.</span></li>
</ul>
<p>A strong performance on the real imagery is preferable over simulated imagery. Therefore, the score coefficient of the ISS pictures are more important than the Lab pictures, which is more important than the Lab2, and so on.</p>
<p style="text-align: center;"><img style="line-height: 1.4em; display: block; margin-left: auto; margin-right: auto;" title="Image Taskboard Panel" src="cache/media/robonaut/image-taskboard-panel/200-283.png" alt="Image Taskboard Panel"><span style="line-height: 1.4em; text-align: center;">Simulated image of the taskboard</span></p>
<p style="text-align: center;"><img title="RightImage LTBP" src="cache/media/robonaut/rightimage-ltbp/400-335.png" alt="RightImage LTBP"><br><span style="line-height: 1.4em;">Real picture taken on the ISS</span></p>
<p>On the taskboard, the following items have to be recognized :</p>
<ul>
<li><span style="line-height: 1.4em;">Led positions and states (ON/OFF).</span></li>
<li><span style="line-height: 1.4em;">Numpad buttons positions and state (ON/OFF).</span></li>
<li><span style="line-height: 1.4em;">Switches positions and states state (UP/DOWN and CENTER for some)</span></li>
</ul>
<p style="text-align: center;"><span style="line-height: 1.4em;"><img title="RightImage HTOG" src="cache/media/robonaut/rightimage-htog/400-553.png" alt="RightImage HTOG"><br><span style="line-height: 1.4em;">Illustrations of numpad buttons, leds and switches on a Lab3 picture</span></span></p>
<h2 style="text-align: justify;"><span style="line-height: 1.4em;">Technologies</span></h2>
<p><span style="line-height: 1.4em;">As I won the contest, my solution was sold to NASA so I am unable to publicly give technical details about the solution. Here are technologies I have used :</span></p>
<ul>
<li>The program was written in C++ and used the Qt framework</li>
<li>I used Qt for the user interface (windows, image display / load / save)</li>
<li>I used the <a href="http://math.nist.gov/tnt/" target="_blank">Template Numerical Toolkit library</a> for matrix manipulations</li>
<li>I used the&nbsp;<a href="http://cs.brown.edu/~pff/segment/" target="_blank">Efficient Graph-Based Image Segmentation</a> algorithm by&nbsp;<a href="http://cs.brown.edu/~pff/" target="_blank">Pedro F. Felzenszwalb</a> and <a href="http://www.cs.cornell.edu/~dph/" target="_blank">Daniel P. Huttenlocher</a></li>
<li>Principal Composent Analysis</li>
<li>Neural networks</li>
<li>Image segmentation</li>
<li>Homography</li>
</ul>
<p id="segmentation_preview">The submitted source code can though be found <a href="http://community.topcoder.com/longcontest/?module=ViewProblemSolution&amp;pm=12472&amp;rd=15611&amp;cr=22901539&amp;subnum=13" target="_blank">on the official website</a>. Please note that we had to send the source code in one unique file, so it might be difficult to read (I wrote my submission into many files and used a PHP script to compress them into one file).</p>
<p style="text-align: center;"><img title="Segmentation" src="cache/media/robonaut/segmentation/500-482.png" alt="Segmentation"><br>Small snapshot on how the&nbsp;<a href="http://cs.brown.edu/~pff/segment/" target="_blank">Efficient Graph-Based Image Segmentation</a>&nbsp;and its components preselection was calibrated</p>
<h2>Results</h2>
<p>My submission had an overall 89% success rate. The algorithm was able to detect correct states and elements positions even when some parts of the taskboard were not visible. It took generally 3 to 5 seconds to detect all buttons / leds / switches.</p>
<p style="text-align: center;"><img title="Result" src="cache/media/robonaut/result/500-400.png" alt="Result"><br><span style="line-height: 1.4em;">Result sample</span></p>
<p>The contest had orginally a length of 3 weeks, but an other contest extended it for one more week. On the first contest, I ended up in the 2nd place, and on the second contest, after working on the algorithm performance, I ended up in the 1st place. Official standing pages can be found <a href="http://www.topcoder.com/iss/robonaut/winners/" target="_blank">here</a>, <a href="http://community.topcoder.com/longcontest/stats/?module=ViewOverview&amp;rd=15652" target="_blank">here</a>, and <a href="http://community.topcoder.com/longcontest/stats/?module=ViewOverview&amp;rd=15611" target="_blank">here</a>.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" title="Standing screenshot" src="cache/media/robonaut/standing-screenshot/500-91.png" alt="Standing screenshot"></p></div>

            <div class="blognews_comments" id="comments">
                            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sdrdis'; // required: replace example with your forum shortname
        var disqus_identifier = '44';
        /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                                                        </div>
        </div>
    </section>

</div>
<!--[if !IE]><script>fixScale(document);</script><![endif]-->

</body>
</html>